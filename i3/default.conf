#################################################################
## CONFIGURAÇÕES BÁSICAS PARA O GERENCIADOR DE JANELAS I3.     ##
## PROJETO: (https://github.com/jcmljunior/window-manager-i3)  ##
## AUTOR: JULIO CESAR <jcmljunior@gmail.com>                   ##
#################################################################

# DEFINE AS TECLAS MODIFICADORAS.
# Mod1<Alt> | Mod4<Super>
set $MODKEY1 Mod4
set $MODKEY2 Mod1

# DEFINE A TECLA PARA MOVER JANELAS FLUTUANTES.
floating_modifier $MODKEY1

# DEFINE O TAMANHO PADRÃO PARA AS BORDAS DE JANELA.
# VALORES: normal|none|pixel
default_floating_border pixel 3

# OCULTA O ESPAÇAMENTO DA BARRA DE ROLAGEM.
# VALORES: none|vertical|horizontal|both|smart
hide_edge_borders none

# DEFINE O MODELO DE JANELA PADRÃO.
# VALORES: default|stacking|tabbed
# DEFINE O EMPILHAMENTO DE JANELAS LADO A LADO.
# DEFINE O EMPILHAMENTO DE JANELAS EM ABAS HORIZONTAL.
# DEFINE O EMPILHAMENTO DE JANELAS EM ABAS VERTICAL.
workspace_layout tabbed

# DEFINE O ALINHAMENTO DO TÍTULO DE JANELA.
# VALORES: left<Esquerda>|center<Centralizado>|right<Direita>
title_align center

# DEFINIÇÕES DE FONTE PADRÃO.
font pango:JetBrains Mono Nerd Font Regular 10

# DEFINE A ALTERAÇÃO DE JANELAS COM BASE NA POSIÇÃO DO CURSOR.
# VALORES: true|false
focus_follows_mouse false

# DEFINE A EXIBIÇÃO DE JANELAS POP-UP NO MODO DE TELA CHEIA.
# VALORES: smart|ignore|leave_fullscreen
popup_during_fullscreen smart

# DEFINE O SUPORTE PARA MULTIPLOS MONITORES.
# VALORES: yes|no
force_xinerama no

# ATIVA O I3-GAPS
smart_gaps on
smart_borders on

# DEFINE O ESPAÇAMENTO ENTRE JANELAS. I3-GAPS
gaps inner 6
gaps outer 6

#################################################################
# DEFINIÇÕES
#################################################################

# DEFINE O TERMINAL PADRÃO.
# DESATIVA O USO DE GPU VIA KITTY
set $TERMINAL env LIBGL_ALWAYS_SOFTWARE=1 kitty

# DEFINE O LANÇADOR DE APLICATIVOS.
set $MENU i3-dmenu-desktop --dmenu="dmenu -i -b -nb '#2E3440' -nf '#D8DEE9' -sb '#5e81ac' -sf '#ECEFF4'  -p 'run:'"

# DEFINE A NOMECLATURA DA ÁREA DE TRABALHO.
set $WORKSPACE01 1
set $WORKSPACE02 2
set $WORKSPACE03 3
set $WORKSPACE04 4
set $WORKSPACE05 5
set $WORKSPACE06 6
set $WORKSPACE07 7
set $WORKSPACE08 8
set $WORKSPACE09 9
set $WORKSPACE10 10

#################################################################
# FUNÇÕES
#################################################################

mode "Lançador" {
  bindsym --release T exec $TERMINAL; exec xdotool key enter
  bindsym --release M exec $MENU; exec xdotool key enter

  bindsym Return mode "default";
  bindsym Escape mode "default"
}

mode "Gerenciar Janelas:" {
  bindsym N mode "Gerenciar Janelas: Normal"
  bindsym F mode "Gerenciar Janelas: Flutuante"
  bindsym L mode "Gerenciar Janelas: Modelo"
  bindsym P sticky toggle

  bindsym Up focus Up
  bindsym Left focus Left
  bindsym Right focus Right
  bindsym Down focus Down

  bindsym space focus mode_toggle

  bindsym --release Q kill, mode "default"
  bindsym --release F4 kill, mode "default"

  bindsym Return mode "default"
  bindsym Escape mode "default"
}

mode "Gerenciar Janelas: Normal" {
  bindsym Up move up
  bindsym Left move left
  bindsym Right move right
  bindsym Down move down

  bindsym BackSpace mode "Gerenciar Janelas:"

  bindsym Return mode "default"
  bindsym Escape mode "default"
}

mode "Gerenciar Janelas: Flutuante" {
  bindsym Up move up 20 px
  bindsym Down move down 20 px
  bindsym Left move left 20 px
  bindsym Right move right 20 px

  bindsym $MODKEY1+Up move up 60 px
  bindsym $MODKEY1+Down move down 60 px
  bindsym $MODKEY1+Left move left 60 px
  bindsym $MODKEY1+Right move right 60 px

  bindsym BackSpace mode "Gerenciar Janelas:"

  bindsym Return mode "default"
  bindsym Escape mode "default"
}

mode "Gerenciar Janelas: Redimensionar" {
  bindsym Right resize shrink width 10 px or 10 ppt
  bindsym Up resize grow height 10 px or 10 ppt
  bindsym Down resize shrink height 10 px or 10 ppt
  bindsym Left resize grow width 10 px or 10 ppt

  bindsym Return mode "default"
  bindsym Escape mode "default"
}

mode "Gerenciar Janelas: Modelo" {
  bindsym T layout default
  bindsym S layout stacking
  bindsym N layout tabbed

  bindsym V split v
  bindsym H split h
  bindsym O split toggle

  bindsym F floating toggle
  bindsym $MODKEY1+F fullscreen toggle

  bindsym B bar mode toggle

  bindsym BackSpace mode "Gerenciar Janelas:"
  
  bindsym Return mode "default"
  bindsym Escape mode "default"
}

mode "Navegação:" {
  bindsym 1 workspace number $WORKSPACE01
  bindsym 2 workspace number $WORKSPACE02
  bindsym 3 workspace number $WORKSPACE03
  bindsym 4 workspace number $WORKSPACE04
  bindsym 5 workspace number $WORKSPACE05
  bindsym 6 workspace number $WORKSPACE06
  bindsym 7 workspace number $WORKSPACE07
  bindsym 8 workspace number $WORKSPACE08
  bindsym 9 workspace number $WORKSPACE09
  bindsym 0 workspace number $WORKSPACE10

  bindsym $MODKEY1+1 move container to workspace number $WORKSPACE01, workspace number $WORKSPACE01, mode "default"
  bindsym $MODKEY1+2 move container to workspace number $WORKSPACE02, workspace number $WORKSPACE02, mode "default"
  bindsym $MODKEY1+3 move container to workspace number $WORKSPACE03, workspace number $WORKSPACE03, mode "default"
  bindsym $MODKEY1+4 move container to workspace number $WORKSPACE04, workspace number $WORKSPACE04, mode "default"
  bindsym $MODKEY1+5 move container to workspace number $WORKSPACE05, workspace number $WORKSPACE05, mode "default"
  bindsym $MODKEY1+6 move container to workspace number $WORKSPACE06, workspace number $WORKSPACE06, mode "default"
  bindsym $MODKEY1+7 move container to workspace number $WORKSPACE07, workspace number $WORKSPACE07, mode "default"
  bindsym $MODKEY1+8 move container to workspace number $WORKSPACE08, workspace number $WORKSPACE08, mode "default"
  bindsym $MODKEY1+9 move container to workspace number $WORKSPACE09, workspace number $WORKSPACE09, mode "default"
  bindsym $MODKEY1+0 move container to workspace number $WORKSPACE10, workspace number $WORKSPACE10, mode "default"

  bindsym $MODKEY1+L mode "Lançador"
  bindsym $MODKEY1+W mode "Gerenciar Janelas:"
  bindsym $MODKEY1+S mode "Captura de Tela"

  bindsym Return mode "default"
  bindsym Escape mode "default"
}

mode "Captura de Tela" {
  bindsym Return mode "default"
  bindsym Escape mode "default"
}

mode "Brilho de Tela" {
  bindsym --release Up exec xbacklight -inc 10
  bindsym --release Down exec xbacklight -dec 10

  bindsym Return mode "default"
  bindsym Escape mode "default"
}

#################################################################

# DEFINE O CONTROLADOR MULTIMIDIA.
bindsym XF86AudioPlay exec playerctl play
bindsym XF86AudioPause exec playerctl pause
bindsym XF86AudioNext exec playerctl next
bindsym XF86AudioPrev exec playerctl previous

# DEFINE OS AJUSTES DE SOM.
bindsym XF86AudioRaiseVolume exec amixer sset Master 10%+
bindsym XF86AudioLowerVolume exec amixer sset Master 10%-
bindsym XF86AudioMute exec amixer sset Master toggle
bindsym XF86AudioMicMute exec amixer sset Capture toggle

# DEFINE OS AJUSTES DE BRILHO.
bindsym XF86MonBrightnessUp exec xbacklight -inc 10
bindsym XF86MonBrightnessDown exec xbacklight -dec 10

# DEFINIÇÕES DE MODOS.
bindsym $MODKEY1+L mode "Lançador"
bindsym $MODKEY1+W mode "Gerenciar Janelas:"
bindsym $MODKEY1+N mode "Navegação:"
bindsym $MODKEY1+B mode "Brilho de Tela"
bindsym $MODKEY1+S mode "Captura de Tela"

# RECARREGA OS AJUSTES DO I3.
bindsym $MODKEY1+R exec i3 reload && i3 restart

#################################################################

# DEFINIÇÕES DE JANELA.
for_window [window_role="pop-up"] floating enable
for_window [window_role="GtkFileChooserDialog"] resize set 800 600, move absolute position center

for_window [class="(?i)firefox"] title_format "  %title"
for_window [class="(?i)firefox" instance="(?i)places"] floating enable, resize set 800 600, move absolute position center
for_window [class="(?i)google-chrome"] title_format "  %title"
for_window [class="(?i)kitty"] title_format "  %title"
for_window [class="(?i)telegram"] title_format " 切 %title"
for_window [class="(?i)pcmanfm"] title_format "  %title"
for_window [class="(?i)flameshot"] title_format "  %title", floating enable
for_window [class="(?i)zathura"] title_format "  %title"
for_window [class="(?i)vlc"] title_format " 嗢 %title"
for_window [class="(?i)feh"] title_format "  %title"

#################################################################

client.focused            #81A1C1 #5e81ac #eceff4 #ebcb8b 
client.focused_inactive   #3B4252 #3B4252 #D8DEE9 #292d2e 
client.unfocused          #3B4252 #3B4252 #D8DEE9 #292d2e
client.urgent             #a3be8c #bf616a #eceff4 #292d2e
client.placeholder        #c6c6c6 #1f1f1f #D8DEE9 #828282 #828282 
client.background         #2E3440

bar {
 position top
 id topbar
 mode dock
 hidden_state hide
 tray_output primary
 font pango:JetBrains Mono Nerd Font Regular 10
 status_command i3blocks -c ~/.config/better-wm/i3/i3blocks.conf
 workspace_buttons yes
 workspace_min_width 20

 colors {
   background          #2E3440
   statusline          #ECEFF4
   separator           #434C5E
   focused_workspace   #81a1c1 #5e81ac #ECEFF4
   urgent_workspace    #994E55 #bf616a #ECEFF4
   inactive_workspace  #434C5E #3B4252 #D8DEE9
   binding_mode        #90728 #B48EAD #ECEFF4
 }
}

#################################################################

exec "~/.local/share/bin/up @autostart"

